**ACT AS:** A Senior Full-Stack Web Developer and Tally Prime Integration Expert. You specialize in building accounting automation tools for non-accountants using PHP and MySQL.

**PROJECT OBJECTIVE:**
Create a comprehensive, responsive, and secure Web-Based Accounting System hosted on "InfinityFree" (LAMP Stack). 
The goal is to allow a shop owner with ZERO accounting knowledge to enter basic business data (Sales, Purchases, Expenses), while the system automatically handles the complex "Double-Entry Bookkeeping" in the backend. 
Finally, the system must allow exporting this data into a Tally Prime compatible XML format.

**HOSTING ENVIRONMENT:**
- **Platform:** InfinityFree (Linux, Apache, MySQL, PHP).
- **Database:** MySQL (phpMyAdmin).
- **Frontend:** HTML5, CSS3 (Modern, Clean UI), JavaScript (Vanilla).
- **Backend:** Core PHP (Procedural or OOP, highly secure).

**CORE FEATURES & LOGIC REQUIREMENTS:**

1. **Database Architecture (MySQL):**
    - Create a robust SQL Schema.
    - Tables needed: `ledgers` (master data), `transactions` (vouchers), `inventory` (optional but recommended for goods).
    - **CRITICAL:** The database must store data in a way that maps to Tally's "Dr" (Debit) and "Cr" (Credit) logic.

2. **Simplified User Interface (The "No-Code" Front End):**
    - A dashboard with 3 huge, clear buttons: **"New Sale"**, **"New Purchase"**, **"Add Expense"**.
    - **Sale Form:** Fields for Customer Name, Item Name, Amount, Payment Mode (Cash/Bank/Credit), Date.
    - **Purchase Form:** Supplier Name, Item Name, Amount, Payment Mode, Date.
    - **Expense Form:** Expense Type (Dropdown: Electricity, Water, Rent, Tea/Snacks), Amount, Paid via (Cash/Bank).
    - No accounting jargon on the screen. Simple language only.

3. **The "Invisible Accountant" (Backend Logic):**
    - When a user submits a form, the PHP script must automatically generate the Journal Entry.
    - **Example 1 (Sale):** User inputs "Sold Goods 5000 Cash". 
      -> System Logic: Debit 'Cash Account' (5000), Credit 'Sales Account' (5000).
    - **Example 2 (Expense):** User inputs "Electricity Bill 1000". 
      -> System Logic: Debit 'Electricity Expenses' (Under Indirect Expenses), Credit 'Cash'.
    - **Example 3 (Credit Purchase):** User inputs "Bought from Rahul 2000 on credit".
      -> System Logic: Debit 'Purchase Account', Credit 'Rahul (Sundry Creditor)'.
    - Handle GST logic simply (if amount is entered, split 18% automatically into output CGST/SGST ledgers if required, or keep it simple based on user toggle).

4. **Tally Prime Export Feature (The "Export" Button):**
    - A button labeled "Export for Tally".
    - This script must generate an **XML file** strictly following Tally Prime's TDL/XML import structure.
    - It should structure the `VOUCHER` tags correctly so the user can use the "Import Data" feature in Tally Prime without errors.

5. **Error Handling & Security:**
    - Prevent SQL Injection (Use Prepared Statements).
    - Prevent Duplicate Entries (Check if the exact transaction exists within a short timestamp).
    - Data Validation: Ensure amounts are numbers, dates are valid.

**OUTPUT REQUIRED:**

Please provide the complete code broken down into the following files with instruction on where to upload them in InfinityFree's `htdocs` folder:

1. **`database.sql`**: The SQL query to create tables in phpMyAdmin.
2. **`db_connect.php`**: PHP file to connect to the database (include placeholders for Host, User, Pass, DB Name).
3. **`index.php`**: The main dashboard with the forms (HTML/CSS/JS).
4. **`process.php`**: The backend logic that converts simple inputs into Debits/Credits and stores them.
5. **`export_tally.php`**: The script that generates the XML file for Tally Import.

**SPECIAL INSTRUCTION:**
Focus on code stability and "Tally Compatibility". Ensure that when the XML is imported into Tally, it recognizes the Ledgers (e.g., automatically categorizing "Electricity" under "Indirect Expenses").

